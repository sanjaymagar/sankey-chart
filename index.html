<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sankey Chart</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="sankey" width="800" height="400"></div>
    <script src="./d3.v5.min.js"></script>
    <script src="./sankey.plugin.js"></script>
    <script src="./sankey.js"></script>
    <script>
      const data = {
        data: {
          levels: ['Normal', 'Low', 'High', 'Medium'],
          nodes: [
            {
              total: 24066,
              id: 0,
              node: 0,
              name: 'Low',
              sedimentLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                level: 'Low',
                drillType: 'sediment',
                period: 'p3',
              },
              year: 'p3',
            },
            {
              total: 22900,
              id: 1,
              node: 1,
              name: 'Normal',
              sedimentLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                level: 'Normal',
                drillType: 'sediment',
                period: 'p3',
              },
              year: 'p3',
            },
            {
              total: 4563,
              id: 2,
              node: 2,
              name: 'Medium',
              sedimentLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                level: 'Medium',
                drillType: 'sediment',
                period: 'p3',
              },
              year: 'p3',
            },
            {
              total: 2749,
              id: 3,
              node: 3,
              name: 'High',
              sedimentLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                level: 'High',
                drillType: 'sediment',
                period: 'p3',
              },
              year: 'p3',
            },
            {
              total: 23622,
              id: 4,
              node: 4,
              name: 'Low',
              sedimentLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                level: 'Low',
                drillType: 'sediment',
                period: 'p2',
              },
              year: 'p2',
            },
            {
              total: 21504,
              id: 5,
              node: 5,
              name: 'Normal',
              sedimentLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                level: 'Normal',
                drillType: 'sediment',
                period: 'p2',
              },
              year: 'p2',
            },
            {
              total: 4107,
              id: 6,
              node: 6,
              name: 'Medium',
              sedimentLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                level: 'Medium',
                drillType: 'sediment',
                period: 'p2',
              },
              year: 'p2',
            },
            {
              total: 2501,
              id: 7,
              node: 7,
              name: 'High',
              sedimentLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                level: 'High',
                drillType: 'sediment',
                period: 'p2',
              },
              year: 'p2',
            },
            {
              total: 22444,
              id: 8,
              node: 8,
              name: 'Low',
              sedimentLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                level: 'Low',
                drillType: 'sediment',
                period: 'p1',
              },
              year: 'p1',
            },
            {
              total: 14635,
              id: 9,
              node: 9,
              name: 'Normal',
              sedimentLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                level: 'Normal',
                drillType: 'sediment',
                period: 'p1',
              },
              year: 'p1',
            },
            {
              total: 2844,
              id: 10,
              node: 10,
              name: 'Medium',
              sedimentLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                level: 'Medium',
                drillType: 'sediment',
                period: 'p1',
              },
              year: 'p1',
            },
            {
              total: 2080,
              id: 11,
              node: 11,
              name: 'High',
              sedimentLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                level: 'High',
                drillType: 'sediment',
                period: 'p1',
              },
              year: 'p1',
            },
          ],
          links: [
            {
              source: 5,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p2_Normal',
                target: 'p1_Normal',
                drillType: 'flow',
              },
              value: 8905,
              target: 9,
            },
            {
              source: 4,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p2_Low',
                target: 'p1_Normal',
                drillType: 'flow',
              },
              value: 1808,
              target: 9,
            },
            {
              source: 6,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p2_Medium',
                target: 'p1_Normal',
                drillType: 'flow',
              },
              value: 1614,
              target: 9,
            },
            {
              source: 7,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p2_High',
                target: 'p1_Normal',
                drillType: 'flow',
              },
              value: 160,
              target: 9,
            },
            {
              source: 5,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p2_Normal',
                target: 'p1_Low',
                drillType: 'flow',
              },
              value: 4504,
              target: 8,
            },
            {
              source: 4,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p2_Low',
                target: 'p1_Low',
                drillType: 'flow',
              },
              value: 11754,
              target: 8,
            },
            {
              source: 6,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p2_Medium',
                target: 'p1_Low',
                drillType: 'flow',
              },
              value: 244,
              target: 8,
            },
            {
              source: 7,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p2_High',
                target: 'p1_Low',
                drillType: 'flow',
              },
              value: 25,
              target: 8,
            },
            {
              source: 5,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p2_Normal',
                target: 'p1_Medium',
                drillType: 'flow',
              },
              value: 728,
              target: 10,
            },
            {
              source: 4,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p2_Low',
                target: 'p1_Medium',
                drillType: 'flow',
              },
              value: 102,
              target: 10,
            },
            {
              source: 6,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p2_Medium',
                target: 'p1_Medium',
                drillType: 'flow',
              },
              value: 1312,
              target: 10,
            },
            {
              source: 7,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p2_High',
                target: 'p1_Medium',
                drillType: 'flow',
              },
              value: 472,
              target: 10,
            },
            {
              source: 5,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p2_Normal',
                target: 'p1_High',
                drillType: 'flow',
              },
              value: 174,
              target: 11,
            },
            {
              source: 4,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p2_Low',
                target: 'p1_High',
                drillType: 'flow',
              },
              value: 37,
              target: 11,
            },
            {
              source: 6,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p2_Medium',
                target: 'p1_High',
                drillType: 'flow',
              },
              value: 159,
              target: 11,
            },
            {
              source: 7,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p2_High',
                target: 'p1_High',
                drillType: 'flow',
              },
              value: 1430,
              target: 11,
            },
            {
              source: 1,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p3_Normal',
                target: 'p2_Normal',
                drillType: 'flow',
              },
              value: 13221,
              target: 5,
            },
            {
              source: 0,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p3_Low',
                target: 'p2_Normal',
                drillType: 'flow',
              },
              value: 2648,
              target: 5,
            },
            {
              source: 2,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p3_Medium',
                target: 'p2_Normal',
                drillType: 'flow',
              },
              value: 1215,
              target: 5,
            },
            {
              source: 3,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p3_High',
                target: 'p2_Normal',
                drillType: 'flow',
              },
              value: 153,
              target: 5,
            },
            {
              source: 1,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p3_Normal',
                target: 'p2_Low',
                drillType: 'flow',
              },
              value: 2230,
              target: 4,
            },
            {
              source: 0,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p3_Low',
                target: 'p2_Low',
                drillType: 'flow',
              },
              value: 14635,
              target: 4,
            },
            {
              source: 2,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p3_Medium',
                target: 'p2_Low',
                drillType: 'flow',
              },
              value: 154,
              target: 4,
            },
            {
              source: 3,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p3_High',
                target: 'p2_Low',
                drillType: 'flow',
              },
              value: 14,
              target: 4,
            },
            {
              source: 1,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p3_Normal',
                target: 'p2_Medium',
                drillType: 'flow',
              },
              value: 1192,
              target: 6,
            },
            {
              source: 0,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p3_Low',
                target: 'p2_Medium',
                drillType: 'flow',
              },
              value: 172,
              target: 6,
            },
            {
              source: 2,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p3_Medium',
                target: 'p2_Medium',
                drillType: 'flow',
              },
              value: 1824,
              target: 6,
            },
            {
              source: 3,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p3_High',
                target: 'p2_Medium',
                drillType: 'flow',
              },
              value: 419,
              target: 6,
            },
            {
              source: 1,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p3_Normal',
                target: 'p2_High',
                drillType: 'flow',
              },
              value: 189,
              target: 7,
            },
            {
              source: 0,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p3_Low',
                target: 'p2_High',
                drillType: 'flow',
              },
              value: 47,
              target: 7,
            },
            {
              source: 2,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p3_Medium',
                target: 'p2_High',
                drillType: 'flow',
              },
              value: 281,
              target: 7,
            },
            {
              source: 3,
              flowLink: {
                biometricName: null,
                category: 'MARA_RISK_LEVEL',
                source: 'p3_High',
                target: 'p2_High',
                drillType: 'flow',
              },
              value: 1673,
              target: 7,
            },
          ],
        },
        levels: ['High', 'Low', 'Medium', 'Normal'],
        year: {
          p3: 'Jan 2018  - Dec 2018 ',
          p2: 'Jan 2019  - Dec 2019 ',
          p1: 'Jan 2020  - Dec 2020 ',
        },
      };

      drawSankey('sankey', JSON.stringify(data));
    </script>
  </body>
</html>
